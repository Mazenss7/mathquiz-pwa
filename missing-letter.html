<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>لعبة الحرف الناقص</title>
  <style>
    body{font-family:Arial,sans-serif;text-align:center;background:#fff8ea;margin:0;padding:20px}
    #game{max-width:400px;margin:40px auto;padding:20px;border:2px solid #f4a261;border-radius:12px;background:#fff}
    #question{font-size:32px;color:#e76f51;margin-bottom:20px}
    button{padding:10px 20px;font-size:20px;margin:8px;border:2px solid #2a9d8f;border-radius:8px;cursor:pointer;background:#e9c46a}
    button:hover{background:#f4a261}
    #feedback{font-size:24px;margin:15px 0;height:30px}
    #score{font-size:20px;color:#264653;margin-top:10px}
  </style>
</head>
<body>
  <h1>لعبة الحرف الناقص</h1>
  <div id="game">
    <div id="question"></div>
    <div id="options"></div>
    <div id="feedback"></div>
    <div id="score"></div>
  </div>
  <script>
    const questions = [
      {display:"كت_ب", answer:"ا", options:["ا","ت","م","ن"]},
      {display:"مد_سة", answer:"ر", options:["ر","د","س","م"]},
      {display:"ناف_ذة", answer:"ذ", options:["ذ","ف","ن","ح"]},
      {display:"س_ارة", answer:"ي", options:["ش","ي","ر","س"]},
      {display:"ق_ة", answer:"ط", options:["ط","ه","ك","ق"]},
      {display:"شجر_", answer:"ة", options:["ة","ر","ى","و"]}
    ];
    let current = 0, correct = 0;
    const order = questions.map((_,i)=>i).sort(()=>Math.random()-0.5);

    function showFeedback(msg,color){
      const fb = document.getElementById('feedback');
      fb.textContent = msg;
      fb.style.color = color;
    }

    function showQuestion(q){
      document.getElementById('question').textContent = q.display;
      const optsDiv = document.getElementById('options');
      optsDiv.innerHTML = '';
      q.options.sort(()=>Math.random()-0.5).forEach(letter => {
        const btn = document.createElement('button');
        btn.textContent = letter;
        btn.onclick = () => {
          if(letter === q.answer){
            correct++;
            showFeedback('🎉 صحيح تماماً!', 'green');
            current++;
            setTimeout(startQuestion, 1000);
          } else {
            showFeedback('❌ للأسف خطأ، حاول مرة ثانية!', 'red');
          }
        };
        optsDiv.appendChild(btn);
      });
      document.getElementById('score').textContent = `السؤال ${current+1} من ${order.length}`;
      showFeedback('', '');
    }

    function startQuestion(){
      if(current >= order.length){
        document.getElementById('question').textContent = 'انتهت اللعبة!';
        document.getElementById('options').innerHTML = '';
        showFeedback(`🏆 نتيجتك: ${correct} من ${order.length}`, '#264653');
        document.getElementById('score').textContent = '';
        return;
      }
      const q = questions[order[current]];
      // عرض الكلمة كاملة
      const fullWord = q.display.replace('_', q.answer);
      document.getElementById('question').textContent = fullWord;
      document.getElementById('options').innerHTML = '';
      showFeedback('📖 شاهد الكلمة كاملة', '#2a9d8f');
      // بعد 5 ثواني اعرض السؤال
      setTimeout(() => { showQuestion(q); }, 5000);
    }

    // ابدأ اللعبة
    startQuestion();
  </script>
</body>
</html>